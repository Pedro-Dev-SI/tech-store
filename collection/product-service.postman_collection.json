{
  "info": {
    "name": "TechStore - Product Service",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {"key": "baseUrl", "value": "http://localhost:8083"},
    {"key": "categoryId", "value": ""},
    {"key": "parentCategoryId", "value": ""},
    {"key": "productId", "value": ""},
    {"key": "imageId", "value": ""}
  ],
  "item": [
    {
      "name": "Categories",
      "item": [
        {
          "name": "List Categories",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/v1/categories"
          }
        },
        {
          "name": "Get Category By Id",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/v1/categories/{{categoryId}}"
          }
        },
        {
          "name": "Create Category (Root)",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/api/v1/categories",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Eletronicos\",\n  \"description\": \"Tudo de tecnologia\"\n}"
            }
          }
        },
        {
          "name": "Create Category (Child)",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/api/v1/categories",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Smartphones\",\n  \"description\": \"Celulares e smartphones\",\n  \"parentId\": \"{{parentCategoryId}}\"\n}"
            }
          }
        },
        {
          "name": "Update Category (PATCH)",
          "request": {
            "method": "PATCH",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/api/v1/categories/{{categoryId}}",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Smartphones e Acessorios\",\n  \"description\": \"Categoria atualizada\",\n  \"active\": true\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Products",
      "item": [
        {
          "name": "List Products (Filters)",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/v1/products?categoryId={{categoryId}}&minPrice=100&maxPrice=5000&brand=Apple&search=iphone&sortBy=createdAt&sortDirection=desc&page=0&size=20"
          }
        },
        {
          "name": "Get Product By Id",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/v1/products/{{productId}}"
          }
        },
        {
          "name": "Get Product By Slug",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/v1/products/slug/iphone-15-pro-max-256gb"
          }
        },
        {
          "name": "Search Products",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/v1/products/search?q=iphone&page=0&size=20&sortBy=createdAt&sortDirection=desc"
          }
        },
        {
          "name": "Create Product",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/api/v1/products",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sku\": \"IPHONE15-256GB-PRETO\",\n  \"name\": \"iPhone 15 Pro Max 256GB\",\n  \"description\": \"Smartphone Apple com chip A17 Pro\",\n  \"brand\": \"Apple\",\n  \"categoryId\": \"{{categoryId}}\",\n  \"price\": 8999.99,\n  \"compareAtPrice\": 9999.99,\n  \"productImages\": [\n    {\n      \"url\": \"https://example.com/image1.jpg\",\n      \"altText\": \"iPhone 15 Pro Max frontal\",\n      \"position\": 0,\n      \"isMain\": true\n    }\n  ],\n  \"productAttributes\": [\n    {\n      \"name\": \"Cor\",\n      \"value\": \"Preto\"\n    },\n    {\n      \"name\": \"Armazenamento\",\n      \"value\": \"256GB\"\n    }\n  ]\n}"
            }
          }
        },
        {
          "name": "Update Product (PATCH)",
          "request": {
            "method": "PATCH",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/api/v1/products/{{productId}}",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"price\": 8799.99,\n  \"compareAtPrice\": 9999.99,\n  \"description\": \"Atualizado: chip A17 Pro\"\n}"
            }
          }
        },
        {
          "name": "Inactivate Product",
          "request": {
            "method": "DELETE",
            "url": "{{baseUrl}}/api/v1/products/{{productId}}"
          }
        },
        {
          "name": "Add Product Images",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/api/v1/products/{{productId}}/images",
            "body": {
              "mode": "raw",
              "raw": "[\n  {\n    \"url\": \"https://example.com/image2.jpg\",\n    \"altText\": \"iPhone 15 Pro Max traseira\",\n    \"position\": 1,\n    \"isMain\": false\n  }\n]"
            }
          }
        },
        {
          "name": "Delete Product Image",
          "request": {
            "method": "DELETE",
            "url": "{{baseUrl}}/api/v1/products/{{productId}}/images/{{imageId}}"
          }
        },
        {
          "name": "Add Product Attributes",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/api/v1/products/{{productId}}/attributes",
            "body": {
              "mode": "raw",
              "raw": "[\n  {\n    \"name\": \"RAM\",\n    \"value\": \"8GB\"\n  }\n]"
            }
          }
        }
      ]
    }
  ]
}
